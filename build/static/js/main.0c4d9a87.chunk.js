(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,n){},141:function(e,t){},143:function(e,t){},169:function(e,t){},171:function(e,t){},184:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(36),r=n.n(a),i=(n(109),n(9)),l=n(13),d=n(3),o=n(29),j=n(16),b=n(14),u=n(21),O=n.n(u),h=n(33),m=n(62),x=n.n(m),f="LOG_OUT",p="USERS_LIST",v={currentUser:{},isAuth:!1,list:!0};var N=function(e){return{type:p,payload:e}},k=n(1),w=function(e){var t=Object(c.useState)({name:"",password:""}),n=Object(i.a)(t,2),s=n[0],a=n[1],r=function(e){a(Object(j.a)(Object(j.a)({},s),{},Object(o.a)({},e.target.name,e.target.value)))},d=Object(b.b)();return Object(k.jsx)("div",{className:"row",children:Object(k.jsx)("div",{className:"col s6 offset-s3",children:Object(k.jsxs)("div",{className:"card blue darken-1",children:[Object(k.jsx)("div",{className:"card-content white-text",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"input-field ",children:Object(k.jsx)("input",{placeholder:"name",id:"name",type:"text",name:"name",onChange:r})}),Object(k.jsx)("div",{className:"input-field ",children:Object(k.jsx)("input",{placeholder:"password",id:"password",type:"password",name:"password",onChange:r})})]})}),Object(k.jsx)("div",{className:"card-action",children:s.password.length<4?Object(k.jsx)("button",{className:" btn greey ",children:"LOG IN"}):Object(k.jsx)(l.b,{to:"/feedList",children:Object(k.jsx)("button",{className:" btn yellow ",onClick:function(){var t;d((t=s.name,function(){var e=Object(h.a)(O.a.mark((function e(n){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("https://jsonplaceholder.typicode.com/users?username=".concat(t));case 3:c=e.sent,n(N(c.data)),localStorage.setItem("token",c.data.token),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),e.setCurrentName(s.name)},children:"LOG IN"})})})]})})})},g=function(){var e=Object(b.c)((function(e){return e.user.isAuth})),t=Object(b.b)();return Object(k.jsx)("div",{className:"card",children:Object(k.jsx)("div",{className:"card-content nav-wrapper blue-grey darken-1",children:Object(k.jsxs)("nav",{className:" blue-grey darken-1",children:[Object(k.jsxs)("a",{href:"#!",className:"brand-logo",children:[" ",Object(k.jsx)("span",{children:"RSS feed reader"})]}),Object(k.jsx)("a",{href:"#","data-target":"mobile-demo",className:"sidenav-trigger",children:Object(k.jsx)("i",{className:"material-icons",children:"Onlyne readera"})}),Object(k.jsxs)("ul",{className:"right hide-on-med-and-down",children:[!e&&Object(k.jsx)("div",{children:Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{to:"/",children:"Log in"})})}),e&&Object(k.jsx)("div",{children:Object(k.jsxs)("button",{className:"btn",onClick:function(){return t({type:f})},children:[" ",Object(k.jsx)(l.b,{to:"/",children:" Log out "})]})})]})]})})})},y=(n(134),n(104)),S=n(101),C=n.n(S),U=function(e){var t=Object(b.c)((function(e){return e.user.currentUser[0]})),n=Object(c.useState)([]),s=Object(i.a)(n,2),a=s[0],r=s[1],d=Object(c.useState)(""),o=Object(i.a)(d,2),j=o[0],u=o[1],m=Object(c.useState)("blocknone"),x=Object(i.a)(m,2),f=x[0],p=x[1],v=e.arrFeeds,N=e.setArrFeeds,w=new C.a;return Object(c.useEffect)(Object(h.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{w.parseURL("https://cors.bridged.cc/"+e.rssUrl,(function(e,t){if(e)throw e;r(t.items)}))}catch(n){console.log(n),window.M.toast({html:"URL is not defined"})}case 1:case"end":return t.stop()}}),t)}))),[e.rssUrl]),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"sort__div",children:[Object(k.jsxs)("p",{className:"welcome",children:["Welcome, ",t.name]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("button",{className:"btn yellow",children:[" ",Object(k.jsx)(l.b,{to:"/addFeed",children:"Add new feed"})]}),Object(k.jsx)("button",{className:"btn blue",onClick:function(){var e=Object(y.a)(a).sort((function(e,t){return new Date(t.isoDate)-new Date(e.isoDate)}));r(e)},children:"Sort for date"})]})]}),Object(k.jsxs)("div",{className:"main",children:[Object(k.jsxs)("div",{className:"title",children:[Object(k.jsxs)("div",{className:f,onClick:function(){return p("blocknone")},children:[Object(k.jsx)("p",{className:"confirm",children:"Are you sure you want to delete feed?"}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"btn red",onClick:function(){N((function(e){return e.filter((function(e){return e.link!==j}))}))},children:"Confirm"})})]}),v.map((function(t,n){return Object(k.jsxs)("div",{className:(c=t.link,e.rssUrl===c?"feedsCheck":"feeds"),onClick:function(){return e.setRssUrl(t.link)},children:[Object(k.jsx)("p",{className:"feed",children:t.name}),Object(k.jsx)("button",{className:"feed__delete",onClick:function(){u(t.link),p("delete")}})]},n);var c}))]}),Object(k.jsx)("div",{className:"link",children:a.map((function(e,t){return Object(k.jsxs)("div",{className:"item",children:[Object(k.jsx)("a",{target:"_blank",className:"item__title",href:e.link,children:Object(k.jsx)("p",{children:e.title})}),Object(k.jsx)("p",{className:"description",children:e.content})]},t)}))})]})]})},A=function(e){var t,n=Object(c.useState)({name:"",link:""}),s=Object(i.a)(n,2),a=s[0],r=s[1],d=function(e){r(Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e.target.name,e.target.value)))};return Object(k.jsx)("div",{className:e.modal,children:Object(k.jsx)("div",{className:"card  darken-1 black-text",children:Object(k.jsx)("div",{className:"row",children:Object(k.jsxs)("div",{className:"col s6 offset-s3",children:[Object(k.jsx)("h2",{children:"Add new feed item"}),Object(k.jsxs)("div",{className:"card blue darken-1",children:[Object(k.jsx)("div",{className:"card-content white-text",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"input-field ",children:Object(k.jsx)("input",{placeholder:"feed name",id:"name",type:"text",name:"name",onChange:d})}),Object(k.jsx)("div",{className:"input-field ",children:Object(k.jsx)("input",{placeholder:"feed URL",id:"link",type:"text",name:"link",onChange:d})})]})}),Object(k.jsxs)("div",{className:"card-action",children:[!1===(""===a.name||(t=a.link,!/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/.test(t)))?Object(k.jsx)(l.b,{to:"/feedList",children:Object(k.jsx)("button",{className:"btn yellow",onClick:function(){e.setArrFeeds((function(e){return e.concat(a)})),e.setRssUrl(a.link),r({name:"",link:""})},children:"ADD"})}):Object(k.jsx)("button",{className:"btn grey",onClick:function(){window.M.toast({html:"make sure that all lines are filled in the second field correct URL"})},children:"Add"}),Object(k.jsx)(l.b,{to:"/feedList",children:Object(k.jsx)("button",{className:"btn greey",children:"Cancel"})})]})]})]})})})})};var L=function(){var e=Object(c.useState)((function(){return[{name:"NASA",link:"https://www.nasa.gov/rss/dyn/breaking_news.rss"},{name:"CNN-edition",link:"http://rss.cnn.com/rss/edition.rss"},{name:"NY-times",link:"http://feeds.nytimes.com/nyt/rss/HomePage"}]})),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),r=Object(i.a)(a,2),o=r[0],j=r[1],u=Object(c.useState)("https://www.nasa.gov/rss/dyn/breaking_news.rss"),m=Object(i.a)(u,2),f=m[0],p=m[1],v=Object(c.useState)(""),y=Object(i.a)(v,2),S=y[0],C=y[1],L=Object(b.b)(),F=Object(b.c)((function(e){return e.user.isAuth}));return Object(c.useEffect)((function(){var e;F&&L((e=S,function(){var t=Object(h.a)(O.a.mark((function t(n){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("https://jsonplaceholder.typicode.com/users?username=".concat(e));case 3:c=t.sent,n(N(c.data)),localStorage.setItem("token",c.data.token),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),localStorage.removeItem("token");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[]),Object(k.jsx)(l.a,{children:Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)(g,{setItems:j}),F?Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{exact:!0,path:"/feedList",component:function(){return Object(k.jsx)(U,{setItems:j,items:o,arrFeeds:n,setArrFeeds:s,rssUrl:f,setRssUrl:p})}}),Object(k.jsx)(d.a,{exact:!0,path:"/addFeed",component:function(){return Object(k.jsx)(A,{setArrFeeds:s,arrFeeds:n,setRssUrl:p})}})]}):Object(k.jsx)(d.c,{children:Object(k.jsx)(d.a,{exact:!0,path:"/",component:function(){return Object(k.jsx)(w,{setCurrentName:C})}})})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,185)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))},I=n(24),R=n(102),_=n(103),D=Object(I.combineReducers)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(j.a)(Object(j.a)({},e),{},{currentUser:t.payload,isAuth:!0,list:!0});case f:return localStorage.removeItem("token"),Object(j.a)(Object(j.a)({},e),{},{currentUser:{},isAuth:!1,list:!1});default:return e}}}),T=Object(I.createStore)(D,Object(R.composeWithDevTools)(Object(I.applyMiddleware)(_.a)));r.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(b.a,{store:T,children:Object(k.jsx)(L,{})})}),document.getElementById("root")),F()}},[[184,1,2]]]);
//# sourceMappingURL=main.0c4d9a87.chunk.js.map